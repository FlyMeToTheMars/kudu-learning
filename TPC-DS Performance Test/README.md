# 主要是基于TPC-H和TPC-DS数据集的测试

计划设计100g 1TB 30TB 100TB量级测试，目前完成100g的测试结果

# TPC-DS

TPC-DS测试基准是TPC组织推出的用于替代TPC-H的下一代决策支持系统测试基准。因此在讨论TPC-DS之前，先介绍一下TPC-H。

* TPC-H

TPC-H是一款面向商品零售业的决策支持系统测试基准，它定义了8张表，22个查询，遵循SQL92。TPC-H的数据模型如图4所示。TPC-H基准的数据库模式遵循第三范式，叶晓俊教授等学者[6]认为“它的数据表数据特征单一(如数据不倾斜) ，其数据维护功能仅仅限制了潜在的对索引的过度使用，而没有测试DBMS 执行真实数据维护操作——数据提取、转换和加载(ETL) 功能的能力”。同时，新兴的数据仓库开始采用新的模型，如星型模型、雪花模型。TPC-H已经不能精准反映当今数据库系统的真实性能。为此，TPC组织推出了新一代的面向决策应用的TPC-DS 基准。

* TPC-DS

TPC-DS采用星型、雪花型等多维数据模式。它包含7张事实表，17张纬度表平均每张表含有18列。其工作负载包含99个SQL查询，覆盖SQL99和2003的核心部分以及OLAP。这个测试集包含对大数据集的统计、报表生成、联机查询、数据挖掘等复杂应用，测试用的数据和值是有倾斜的，与真实数据一致。可以说TPC-DS是与真实场景非常接近的一个测试集，也是难度较大的一个测试集。

TPC-DS的这个特点跟大数据的分析挖掘应用非常类似。Hadoop等大数据分析技术也是对海量数据进行大规模的数据分析和深度挖掘，也包含交互式联机查询和统计报表类应用，同时大数据的数据质量也较低，数据分布是真实而不均匀的。因此TPC-DS成为客观衡量多个不同hadoop版本以及SQL on Hadoop技术的最佳测试集。这个基准测试有以下几个主要特点：

  ● 一共99个测试案例，遵循SQL’99和SQL 2003的语法标准，SQL案例比较复杂
  
  ● 分析的数据量大，并且测试案例是在回答真实的商业问题
  
  ● 测试案例中包含各种业务模型（如分析报告型，迭代式的联机分析型，数据挖掘型等）
  
  ● 几乎所有的测试案例都有很高的IO负载和CPU计算需求
  
叶晓俊等学者对这些查询的分部总结如表所示。典型的Store_Sales的数据模型如图所示。这个基准测试的完整信息请参考http://www.tpc.org/tpcds/。

<img src="https://github.com/jimmy-src/img/blob/master/tpcds/tpcds1.jpeg" width = "" height = "" alt="图片名称" align=center />


<img src="https://github.com/jimmy-src/img/blob/master/tpcds/tpch2tpcds.jpeg" width = "" height = "" alt="图片名称" align=center />














